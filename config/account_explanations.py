"""
재무제표 계정과목 설명서 (대폭 확장판)
- 50개+ 주요 계정과목
- 초보자도 바로 이해할 수 있는 설명
- 투자 활용법 포함
- 제작자: 이찬희 (충북대학교 가치투자학회)
"""

ACCOUNT_EXPLANATIONS = {
    # ===============================================
    # 재무상태표 - 자산 (20개)
    # ===============================================
    '자산총계': {
        '한글명': '자산총계',
        '영문명': 'Total Assets',
        '분류': '재무상태표 > 자산',
        '설명': '회사가 보유한 모든 재산의 합계입니다. 유동자산과 비유동자산의 합.',
        '활용': '회사 규모를 파악하는 기본 지표. 동종업계 비교시 사용.',
        '주의사항': '업종별로 자산 규모 기준이 다름. 은행은 자산이 크고, IT는 작은 편.',
    },
    '유동자산': {
        '한글명': '유동자산',
        '영문명': 'Current Assets',
        '분류': '재무상태표 > 자산',
        '설명': '1년 내에 현금화할 수 있는 자산. 현금, 매출채권, 재고자산 등 포함.',
        '활용': '유동비율 = 유동자산 / 유동부채. 100% 이상이면 단기 지급능력 양호.',
        '주의사항': '재고자산은 실제 현금화까지 시간 소요. 당좌비율도 함께 확인.',
    },
    '현금및현금성자산': {
        '한글명': '현금 및 현금성자산',
        '영문명': 'Cash and Cash Equivalents',
        '분류': '재무상태표 > 자산',
        '설명': '즉시 사용 가능한 현금과 3개월 이내 만기 도래하는 단기 금융상품.',
        '활용': '위기 대응 능력 파악. 총자산의 10~20%가 적정.',
        '주의사항': '너무 많으면 자본 효율성 저하. 너무 적으면 유동성 위험.',
    },
    '단기금융상품': {
        '한글명': '단기금융상품',
        '영문명': 'Short-term Financial Instruments',
        '분류': '재무상태표 > 자산',
        '설명': '만기 1년 이내의 정기예금, MMF, CMA 등.',
        '활용': '현금성자산과 합쳐 실질 현금보유량 파악.',
        '주의사항': '일부는 담보로 묶여있을 수 있음. 주석 확인 필요.',
    },
    '매출채권': {
        '한글명': '매출채권 (외상매출금)',
        '영문명': 'Accounts Receivable',
        '분류': '재무상태표 > 자산',
        '설명': '제품/서비스를 판매하고 아직 받지 못한 대금.',
        '활용': '매출채권회전율 = 매출액 / 매출채권. 높을수록 회수가 빠름.',
        '주의사항': '매출 대비 급격히 증가하면 부실채권 위험. 대손충당금 확인.',
    },
    '재고자산': {
        '한글명': '재고자산',
        '영문명': 'Inventory',
        '분류': '재무상태표 > 자산',
        '설명': '판매 전 제품, 반제품, 원재료, 상품 등.',
        '활용': '재고회전율 = 매출원가 / 재고자산. 높을수록 효율적.',
        '주의사항': '급격한 증가는 판매 부진 신호. 진부화 위험 있음.',
    },
    '비유동자산': {
        '한글명': '비유동자산',
        '영문명': 'Non-current Assets',
        '분류': '재무상태표 > 자산',
        '설명': '1년 넘게 보유할 장기 자산. 유형자산, 무형자산, 투자자산 포함.',
        '활용': '설비투자 규모와 사업 기반 파악.',
        '주의사항': '감가상각과 손상차손으로 가치 감소 가능.',
    },
    '유형자산': {
        '한글명': '유형자산',
        '영문명': 'Property, Plant & Equipment (PP&E)',
        '분류': '재무상태표 > 자산',
        '설명': '토지, 건물, 기계장치, 차량, 비품 등 눈에 보이는 장기 자산.',
        '활용': '유형자산회전율 = 매출액 / 유형자산. 높을수록 자산 효율적 활용.',
        '주의사항': '제조업은 비중 높고, IT/서비스업은 낮은 편.',
    },
    '무형자산': {
        '한글명': '무형자산',
        '영문명': 'Intangible Assets',
        '분류': '재무상태표 > 자산',
        '설명': '특허권, 상표권, 영업권, 개발비 등 물리적 형태가 없는 자산.',
        '활용': '기술력과 브랜드 가치 반영. R&D 집약 기업에서 중요.',
        '주의사항': '영업권은 M&A시 발생. 감액손실 위험 있음.',
    },
    '투자부동산': {
        '한글명': '투자부동산',
        '영문명': 'Investment Property',
        '분류': '재무상태표 > 자산',
        '설명': '임대수익이나 시세차익 목적으로 보유하는 부동산.',
        '활용': '본업 외 수익원 파악. 부동산 경기에 영향받음.',
        '주의사항': '공정가치 평가시 평가손익이 손익에 반영됨.',
    },
    '관계기업투자': {
        '한글명': '관계기업투자',
        '영문명': 'Investment in Associates',
        '분류': '재무상태표 > 자산',
        '설명': '지분 20~50% 보유한 관계기업에 대한 투자.',
        '활용': '지분법이익/손실이 영업외손익에 반영됨.',
        '주의사항': '관계기업 실적이 연결 손익에 영향.',
    },
    
    # ===============================================
    # 재무상태표 - 부채 (10개)
    # ===============================================
    '부채총계': {
        '한글명': '부채총계',
        '영문명': 'Total Liabilities',
        '분류': '재무상태표 > 부채',
        '설명': '회사가 갚아야 할 모든 채무의 합계.',
        '활용': '부채비율 = 부채총계 / 자본총계. 100% 이하가 안정적.',
        '주의사항': '업종별 적정 부채비율이 다름. 금융업은 높은 편.',
    },
    '유동부채': {
        '한글명': '유동부채',
        '영문명': 'Current Liabilities',
        '분류': '재무상태표 > 부채',
        '설명': '1년 내에 갚아야 할 단기 채무.',
        '활용': '유동자산과 비교하여 단기 지급능력 판단.',
        '주의사항': '만기 도래 장기부채가 포함될 수 있음.',
    },
    '매입채무': {
        '한글명': '매입채무 (외상매입금)',
        '영문명': 'Accounts Payable',
        '분류': '재무상태표 > 부채',
        '설명': '원재료/상품 구매 후 아직 지급하지 않은 대금.',
        '활용': '매입채무회전일수로 지급 조건 파악. 길면 현금흐름에 유리.',
        '주의사항': '급격한 증가는 자금난 신호일 수 있음.',
    },
    '단기차입금': {
        '한글명': '단기차입금',
        '영문명': 'Short-term Borrowings',
        '분류': '재무상태표 > 부채',
        '설명': '1년 이내 상환해야 할 은행 대출.',
        '활용': '이자비용 부담과 상환 압박 정도 파악.',
        '주의사항': '금리 인상기에 이자 부담 급증 위험.',
    },
    '비유동부채': {
        '한글명': '비유동부채',
        '영문명': 'Non-current Liabilities',
        '분류': '재무상태표 > 부채',
        '설명': '1년 후에 갚아도 되는 장기 채무.',
        '활용': '장기 재무 안정성 파악.',
        '주의사항': '금리 조건과 만기 구조 확인 필요.',
    },
    '장기차입금': {
        '한글명': '장기차입금',
        '영문명': 'Long-term Borrowings',
        '분류': '재무상태표 > 부채',
        '설명': '1년 이후 상환 예정인 은행 대출, 금융기관 차입금.',
        '활용': '설비투자 재원으로 활용. 이자보상배율 확인.',
        '주의사항': '고정금리/변동금리 여부가 중요.',
    },
    '사채': {
        '한글명': '사채 (회사채)',
        '영문명': 'Bonds Payable',
        '분류': '재무상태표 > 부채',
        '설명': '회사가 발행한 채권. 일정 기간 후 원금과 이자 상환.',
        '활용': '신용등급에 따라 이자율 결정. 자금조달 비용 파악.',
        '주의사항': '전환사채(CB), 신주인수권부사채(BW)는 주식 희석 가능.',
    },
    '충당부채': {
        '한글명': '충당부채',
        '영문명': 'Provisions',
        '분류': '재무상태표 > 부채',
        '설명': '미래 지출이 예상되지만 금액/시기가 불확실한 부채. 소송, 하자보증 등.',
        '활용': '잠재적 리스크 파악.',
        '주의사항': '과소 계상되면 미래 손실 가능성.',
    },
    
    # ===============================================
    # 재무상태표 - 자본 (6개)
    # ===============================================
    '자본총계': {
        '한글명': '자본총계 (순자산)',
        '영문명': 'Total Equity / Shareholders\' Equity',
        '분류': '재무상태표 > 자본',
        '설명': '자산에서 부채를 뺀 금액. 주주의 몫을 나타냄.',
        '활용': 'ROE = 당기순이익 / 자본총계. PBR = 시가총액 / 자본총계.',
        '주의사항': '마이너스면 자본잠식 상태로 상장폐지 위험.',
    },
    '자본금': {
        '한글명': '자본금',
        '영문명': 'Capital Stock',
        '분류': '재무상태표 > 자본',
        '설명': '주주가 납입한 금액 중 액면가 총액. 발행주식수 × 액면가.',
        '활용': '주식분할/병합으로 변동 가능.',
        '주의사항': '액면가와 시장가격은 다름.',
    },
    '자본잉여금': {
        '한글명': '자본잉여금',
        '영문명': 'Capital Surplus',
        '분류': '재무상태표 > 자본',
        '설명': '주식 발행시 액면가 초과분 (주식발행초과금) 등.',
        '활용': '자본 조달 이력 파악.',
        '주의사항': '이익잉여금과 구분. 배당 재원으로 활용 제한.',
    },
    '이익잉여금': {
        '한글명': '이익잉여금',
        '영문명': 'Retained Earnings',
        '분류': '재무상태표 > 자본',
        '설명': '그동안 벌어서 배당하지 않고 사내에 쌓아둔 이익.',
        '활용': '배당 여력 파악. 양수면 누적 이익, 음수면 결손금.',
        '주의사항': '결손금 누적시 배당 불가, 자본잠식 위험.',
    },
    '기타자본항목': {
        '한글명': '기타포괄손익누계액',
        '영문명': 'Accumulated Other Comprehensive Income',
        '분류': '재무상태표 > 자본',
        '설명': '기타포괄손익의 누적분. 해외사업환산손익, 금융자산평가손익 등.',
        '활용': '실현되지 않은 손익 파악.',
        '주의사항': '환율/금리 변동시 크게 변동 가능.',
    },
    '자기주식': {
        '한글명': '자기주식',
        '영문명': 'Treasury Stock',
        '분류': '재무상태표 > 자본',
        '설명': '회사가 자사 주식을 매입하여 보유 중인 것. 자본에서 차감.',
        '활용': '주주환원 의지 파악. 소각시 주당가치 상승.',
        '주의사항': '재매각시 희석 효과.',
    },
    
    # ===============================================
    # 손익계산서 (15개)
    # ===============================================
    '매출액': {
        '한글명': '매출액 (수익)',
        '영문명': 'Revenue / Sales',
        '분류': '손익계산서',
        '설명': '본업에서 번 총 수입. 회사 규모와 성장성의 척도.',
        '활용': '매출성장률 = (당기매출-전기매출)/전기매출. 10%+ 고성장.',
        '주의사항': '일회성 매출 제외하고 지속성 확인.',
    },
    '매출원가': {
        '한글명': '매출원가',
        '영문명': 'Cost of Goods Sold (COGS)',
        '분류': '손익계산서',
        '설명': '제품/서비스를 생산하는 데 직접 들어간 비용. 원재료, 직접노무비 등.',
        '활용': '매출원가율 = 매출원가/매출액. 낮을수록 원가경쟁력.',
        '주의사항': '원자재 가격 변동에 민감.',
    },
    '매출총이익': {
        '한글명': '매출총이익',
        '영문명': 'Gross Profit',
        '분류': '손익계산서',
        '설명': '매출액에서 매출원가를 뺀 금액. 제품 자체의 수익성.',
        '활용': '매출총이익률 = 매출총이익/매출액. 30%+ 이면 양호.',
        '주의사항': '업종별 차이가 큼. IT는 높고, 유통은 낮은 편.',
    },
    '판매비와관리비': {
        '한글명': '판관비 (판매비와 관리비)',
        '영문명': 'Selling, General & Administrative Expenses (SG&A)',
        '분류': '손익계산서',
        '설명': '영업/마케팅/관리에 들어가는 비용. 인건비, 광고비, 임차료 등.',
        '활용': '판관비율 = 판관비/매출액. 낮을수록 운영 효율적.',
        '주의사항': '급격한 증가는 비효율의 신호. 인원 구조 확인.',
    },
    '연구개발비': {
        '한글명': '연구개발비 (R&D)',
        '영문명': 'Research & Development Expenses',
        '분류': '손익계산서',
        '설명': '신제품/기술 개발에 투입되는 비용.',
        '활용': 'R&D비율 = R&D비/매출액. 기술 투자 의지 파악.',
        '주의사항': '일부는 무형자산으로 자본화되어 비용에 안 잡힐 수 있음.',
    },
    '영업이익': {
        '한글명': '영업이익',
        '영문명': 'Operating Income / EBIT',
        '분류': '손익계산서',
        '설명': '본업에서 번 순수 이익. 가장 중요한 수익성 지표.',
        '활용': '영업이익률 = 영업이익/매출액. 10%+ 이면 우량.',
        '주의사항': '일회성 비용 제외 여부 확인. 조정 영업이익도 체크.',
    },
    '금융수익': {
        '한글명': '금융수익',
        '영문명': 'Finance Income',
        '분류': '손익계산서',
        '설명': '이자수익, 배당금수익, 외환차익 등 금융에서 발생한 수익.',
        '활용': '영업외수익으로 일회성 여부 확인.',
        '주의사항': '지속성 없으면 가치평가에서 제외.',
    },
    '금융비용': {
        '한글명': '금융비용',
        '영문명': 'Finance Costs',
        '분류': '손익계산서',
        '설명': '이자비용, 외환차손 등 금융 관련 지출.',
        '활용': '이자보상배율 = 영업이익/이자비용. 3배+ 이면 안전.',
        '주의사항': '금리 인상기에 급증 가능.',
    },
    '법인세비용차감전순이익': {
        '한글명': '세전이익',
        '영문명': 'Income Before Tax',
        '분류': '손익계산서',
        '설명': '법인세를 내기 전의 순이익.',
        '활용': '세전이익률로 실질 수익성 파악.',
        '주의사항': '영업외손익 제외한 조정 필요.',
    },
    '법인세비용': {
        '한글명': '법인세비용',
        '영문명': 'Income Tax Expense',
        '분류': '손익계산서',
        '설명': '정부에 납부하는 법인세.',
        '활용': '실효세율 = 법인세비용/세전이익. 통상 20~25%.',
        '주의사항': '세액공제, 이연법인세로 변동 가능.',
    },
    '당기순이익': {
        '한글명': '당기순이익',
        '영문명': 'Net Income',
        '분류': '손익계산서',
        '설명': '모든 비용과 세금을 제외하고 최종 남은 이익.',
        '활용': 'EPS = 당기순이익/발행주식수. ROE = 당기순이익/자본총계.',
        '주의사항': '일회성 이익 제외한 조정 필요. 지배주주순이익 확인.',
    },
    '기본주당이익': {
        '한글명': 'EPS (주당순이익)',
        '영문명': 'Earnings Per Share',
        '분류': '손익계산서',
        '설명': '주식 1주당 순이익. 당기순이익 / 가중평균 유통주식수.',
        '활용': 'PER = 주가/EPS. 낮을수록 저평가.',
        '주의사항': '희석EPS도 확인 (스톡옵션, 전환사채 고려).',
    },
    
    # ===============================================
    # 현금흐름표 (8개)
    # ===============================================
    '영업활동현금흐름': {
        '한글명': '영업활동 현금흐름 (CFO)',
        '영문명': 'Cash Flow from Operations',
        '분류': '현금흐름표',
        '설명': '본업에서 실제로 벌어들인 현금. 순이익 + 비현금비용 ± 운전자본변동.',
        '활용': '순이익 대비 1배 이상이면 이익의 질 우수.',
        '주의사항': '양수여야 건전한 기업. 음수면 외부 조달 필요.',
    },
    '투자활동현금흐름': {
        '한글명': '투자활동 현금흐름 (CFI)',
        '영문명': 'Cash Flow from Investing',
        '분류': '현금흐름표',
        '설명': '설비투자, 자산 매입/매각, 투자자산 변동.',
        '활용': '음수면 투자 진행 중 (성장). 양수면 구조조정.',
        '주의사항': 'CAPEX(자본적 지출)가 감가상각보다 커야 성장 중.',
    },
    '재무활동현금흐름': {
        '한글명': '재무활동 현금흐름 (CFF)',
        '영문명': 'Cash Flow from Financing',
        '분류': '현금흐름표',
        '설명': '차입금 조달/상환, 배당금 지급, 자기주식 취득.',
        '활용': '양수면 외부 자금 조달. 음수면 상환/배당/자사주매입.',
        '주의사항': '배당금 지급 규모 확인.',
    },
    '잉여현금흐름': {
        '한글명': 'FCF (잉여현금흐름)',
        '영문명': 'Free Cash Flow',
        '분류': '현금흐름표',
        '설명': '영업활동현금흐름 - 자본적지출(CAPEX). 주주에게 돌려줄 수 있는 현금.',
        '활용': 'DCF 가치평가의 핵심. FCF Yield = FCF/시가총액.',
        '주의사항': 'FCF 양수 지속 기업이 진정한 현금창출력 보유.',
    },
}


def get_account_explanation(account_name: str) -> dict:
    """계정과목 설명 조회"""
    if account_name in ACCOUNT_EXPLANATIONS:
        return ACCOUNT_EXPLANATIONS[account_name]
    
    # 부분 일치 검색
    for key, value in ACCOUNT_EXPLANATIONS.items():
        if key in account_name or account_name in key:
            return value
    
    return None


def get_all_explanations() -> dict:
    """모든 계정 설명 반환"""
    return ACCOUNT_EXPLANATIONS
